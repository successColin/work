import invoker,{CONTINUOUS_EVENT_LIST,PLATFORM_TYPE_ENUM}from"./invoker";function startShakeHandler(e,t){var n=t.resolve,r=t.reject,a=t.context,c=t.containerType,o=t.platformType,i=invoker.registerEvent(CONTINUOUS_EVENT_LIST.ON_SHAKE,(function(){e.onSuccess&&e.onSuccess()}));if(c){o===PLATFORM_TYPE_ENUM.ANDROID?a&&a((function(t){e.onSuccess&&e.onSuccess(),n()}),(function(e){r()}),"device.accelerometer","watchShake",e):o===PLATFORM_TYPE_ENUM.IOS&&a.callHandler("device.accelerometer.watchShake",Object.assign({},e),(function(e){n()}))}else a&&a.call("startWatchShake",e,(function(e){invoker.registerContinuesEvent("shake",i),invoker.handleBridgeResponse(e,n,r)}))}invoker.registerAPI("startWatchShake",{mobile:startShakeHandler}),startWatchShake.version={android:"1.6.2",ios:"1.6.2"};export default function startWatchShake(e){return invoker.invoke("startWatchShake",e)}