(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-frames-ScanFramework"],{4916:function(e,t,a){e.exports=a.p+"static/img/scanbg.383f0a86.png"},"4cce":function(e,t,a){"use strict";a.r(t);var n=a("cd0c"),i=a.n(n);for(var s in n)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(s);t["default"]=i.a},b728:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){}));var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"scanFramework"},[n("m-back-bar",[n("template",{attrs:{slot:"barTitle"},slot:"barTitle"},[e._v(e._s(e.bundleName))])],2),e.isShow?n("v-uni-view",{staticClass:"scanContent"},[n("v-uni-image",{staticClass:"scanBg",attrs:{src:a("4916")}}),n("v-uni-view",{staticClass:"sanTip"},[e._v(e._s(e.$t("page-scanFrameTip")))]),"0"!==e.QRType?n("m-button",{staticClass:"footerBtn",attrs:{btnTilte:e.$t("basic-scan"),btnClass:"mainColor"},on:{elementClick:function(t){arguments[0]=t=e.$handleEvent(t),e.goScanCode.apply(void 0,arguments)}}}):e._e()],1):e._e()],1)},i=[]},cd0c:function(e,t,a){"use strict";a("7a82");var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("e9c4");var i=n(a("5530")),s=a("26cb"),o=a("ea34"),l=a("f047"),u=a("cd03"),r={data:function(){return{bundleName:"",bundleId:"",templateType:"SCAN",tabInfo:{},isShow:!1}},computed:(0,i.default)((0,i.default)({},(0,s.mapState)("home",{newBundle:"newBundle"})),(0,s.mapState)(["QRType"])),methods:(0,i.default)((0,i.default)((0,i.default)((0,i.default)((0,i.default)((0,i.default)({},(0,s.mapMutations)(["SET_bundle"])),(0,s.mapMutations)("home",["SET_NEW_BUNDLE"])),(0,s.mapMutations)("Toast",["TOAST_REQUESTURLS"])),(0,s.mapMutations)("common",["SET_TEMPLATE_PARAMS","SET_COMMON_MAINFRAME","SET_COM_PAGERELOAD"])),(0,s.mapMutations)("FrameVariable",["Set_ScanFramework"])),{},{setPageInfo:function(){var e=this.tabInfo,t=e.mobileTabs,a=e.mobileTabId;if(a){var n=t[a],i=l.FRAMS_SHOWTYPE[n.mobileTabShowType],s={tabId:a,params:{relationTab:a,relationMainTab:"",bundleId:this.bundleId}};this.SET_TEMPLATE_PARAMS(s),this.Static_GlobalFucs.gotoOtherRoute(s,i)}else uni.showModal({title:this.$t("basic-inquiry"),content:this.$t("pageTip-configuration"),cancelText:this.$t("basic-cancel"),confirmText:this.$t("basic-confirm")})},goScanCode:function(e,t){var a=this;(0,o.ELEMENT_SCAN)({},(function(e){var t=e.scancode;console.log("===================================="+t),a.Set_ScanFramework({key:"static_scanResult",value:{id:t,name:t}}),a.setPageInfo()}))}}),onLoad:function(e){var t=this;if(this.TOAST_REQUESTURLS({type:"clear"}),e.bundleId){this.SET_bundle({bundleId:e.bundleId,bundleName:e.title}),this.SET_COMMON_MAINFRAME({_uid:this._uid}),this.SET_COM_PAGERELOAD({pageUid:"first",type:!1});this.bundleId=e.bundleId,this.bundleName=e.title||"";var a=uni.getStorageSync(this.bundleId)||{},n=a.mobileTabs||{},i=a.mainTabID,s=this.newBundle[this.bundleId],o=e.V||"0",l={_uid:this._uid,bundleId:this.bundleId,bundleName:this.bundleName,mobileTabId:i,relationMainTab:"",mobileTabs:n,trigger:a.triggerMap||{},parentKey:"",isNew:s};this.tabInfo=l;var r=this.tabInfo.bundleId;s||"{}"===JSON.stringify(n)?u.homeApi.getPage(this,{bundleId:r}).then((function(e){var a=e.mainTabID;if(a&&(t.tabInfo.mobileTabId=a,t.tabInfo.mobileTabs=e.mobileTabs,t.isShow=!0,s)){t.SET_NEW_BUNDLE({bundle:t.bundleId,isNew:!1});var n=uni.getStorageSync("bundleVersion")||{},i=t.userDesigner+"_"+t.bundleId;n[i]=o,uni.setStorageSync("bundleVersion",n)}})):this.isShow=!0}}};t.default=r},d02e:function(e,t,a){"use strict";a.r(t);var n=a("b728"),i=a("4cce");for(var s in i)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(s);var o=a("f0c5"),l=Object(o["a"])(i["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],void 0);t["default"]=l.exports},ea34:function(e,t,a){"use strict";a("7a82");var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.ELEMENT_SCAN=t.ELEMENT_BACKFRAME=void 0,a("c740");var i=n(a("5441")),s=a("4037");t.ELEMENT_SCAN=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return"1"===i.default.state.QRType&&(0,s.onWxScan)((function(a){e.scancode=a.resultStr,e.scancode&&t.call(void 0,e)})),!1};t.ELEMENT_BACKFRAME=function(e){var t=getCurrentPages(),a=t.findIndex((function(t){return t.$vm._uid===e.frameUId})),n=t[a];return{pageNum:t.length,pageIndex:a,templateType:n.templateType}}},f047:function(e,t,a){"use strict";a("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.FRAMS_TYPE=t.FRAMS_SHOWTYPE=void 0;t.FRAMS_SHOWTYPE={1:"templates/listTemplate",2:"templates/formTemplate",3:"templates/listTemplate",4:"templates/BRATemplate",5:"templates/DSTemplate",6:"templates/formTemplate",7:"templates/relationFileTab",11:"templates/webViewTemplate"};t.FRAMS_TYPE={1:"UBPFramework",2:"download",3:"Inspections",4:"FormFramework",5:"SummaryFramework",6:"systemFramework",7:"echartFramework",8:"ListFramework",9:"ScanFramework"}}}]);